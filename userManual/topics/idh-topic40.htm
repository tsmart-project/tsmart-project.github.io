<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="HelpSmith 6.0 (Build 15.616)">
<style type="text/css" media="screen">
html {
  height: 100%;
}
body {
  margin: 4.25pt 4.25pt 4.25pt 4.25pt;
}
</style>
<link type="text/css" href="../css/topics/style.css" rel="stylesheet" />
<script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="../js/settings.js?e96a06a9"></script>
<script type="text/javascript" src="../js/core.js?b5595709"></script>
<script type="text/javascript" src="../js/topic.js?b5595709"></script>
<script type="text/javascript">
	var topicContext = 40;
</script>
</head>
<body>
<p class="ps7"><span class="ts4">使用</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts6">1. 安装方法</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">获取TsmartBD工具的压缩包之后，在合适的目录下解压即可。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">注意：为了防止不必要的编码错误产生，请确保解压路径中尽量不要出现中文。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts6">2. 完整参数列表</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">TsmartBD工具依赖于命令行执行，因此在实际使用中需要指定各类参数。下表给出了TsmartBD工具可以接受的完整参数列表：</span></p>
<p class="ps11"><span class="ts5">&nbsp;</span></p>
<div class="block1" align="center">
  <table style="width: 70%; border-collapse: collapse; border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black" width="70%" cellspacing="2" cellpadding="0">
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts7">参数选项</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts7">使用模板</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts7">参数含义</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">-build</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">-build=[BUILD_PATH]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">指定路径：需要编译抓取的项目的路径</span></p>
        <p class="ps0"><span class="ts5">指定操作：进行编译抓取</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">-captured</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">-captured=[CAPTURED_PATH]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" valign="top">
        <p class="ps0"><span class="ts5">指定路径：编译抓取结果的存放路径</span></p>
        <p class="ps0"><span class="ts5">指定操作：复合项目的检测</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-cwe</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-cwe=[CWE_LIST]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定操作：将要使用的cwe类型的列表</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-list</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-list</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定操作：显示编译抓取结果的task列表</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-manual</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-manual [FILE_PATH]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定路径：将要检查的源文件路径</span></p>
        <p class="ps0"><span class="ts5">指定操作：单个文件的检测</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-output</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-output=[OUTPUT_PATH]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定路径：测试结果报告的输出路径</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-task</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-task=[TASKS]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定操作：只对选中的task进行检测</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-taskName</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-taskName=[NAMELIST]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定操作：只对选中的task进行检测</span></p>
      </td>
    </tr>
    <tr style="border-top: solid 0px Black; border-right: solid 0px Black; border-bottom: solid 0px Black; border-left: solid 0px Black">
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-config</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">-config=[CONF_PATH]</span></p>
      </td>
      <td style="border-top: solid 1px Black; border-right: solid 1px Black; border-bottom: solid 1px Black; border-left: solid 1px Black" height="22" valign="top">
        <p class="ps0"><span class="ts5">指定路径：需要使用的检测配置文件路径</span></p>
      </td>
    </tr>
  </table>
</div>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts6">3. 操作方法</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts7">3.1 单个文件检查</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">本功能主要用于针对单个C文件的检查。目标C文件中可以含有引用的外部头文件或者系统库头文件，它们在分析时都会被自动展开。操作方法如下：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">1) 进入TsmartBD所在的路径下，打开终端；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">2) 在终端下执行命令：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">java -jar TsmartAnalyze.jar -manual [C_FILE_PATH] -cwe=[CWE_LIST] (&ndash;output =[OUTPUT_PATH])</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">其中:</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第一项-manual [C_FILE_PATH]为必备参数，C_FILE_PATH指定了待检测的C文件的路径；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第二项-cwe=[CWE_LIST]是必备参数，CWE_LIST指定了将要用于检测的cwe缺陷类型的列表，例如&ldquo;-cwe=190,369&ldquo;表示了将要应用190和369两种cwe；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第三项-output=[OUTPUT_PATH]是可选参数，OUTPUT_PATH指定了检测报告的输出目录的路径。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">特别的，如果不想使用TsmartBD中预设的CWE选项，而想要使用自己设计的检测配置。可以将-cwe一项的参数替换为-config。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts7">&nbsp;</span></p>
<p class="ps8"><span class="ts7">3.2 未抓取的复合项目的编译抓取与检测</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">本功能用于具有makefile的C语言编写的复合项目的编译抓取。能够将编译抓取的结果保存在原项目路径下的.process_makefile文件夹下，以便于后续分析和检测的进行。其操作方法如下：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">1) 进入TsmartBD所在的路径下，打开终端；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">2) 在终端下执行命令：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">java &ndash;jar TsmartAnalyze.jar &ndash;build=[BUILD_PATH] make &ndash;cwe=[CWE_LIST] &ndash;task=[TASKS] (&ndash;output=[OUTPUT_PATH])</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">其中:</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第一项&ndash;build=[BUILD_PATH] make是必需参数，BUILD_PATH指定了需要编译抓取的项目所保存的路径；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第二项-cwe=[CWE_LIST]也是必需参数，CWE_LIST指定了需要用于检查的cwe缺陷的类型编号的列表；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第三项-task=[TASKS]是可选参数，TASKS指定了将要检查的task的序号。如果不指定该参数，那么将检查目录下所有的task；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第四项-output=[OUTPUT_PATH]是可选参数，OUTPUT_PATH指定了检测结果报告的输出目录。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">特别的，如果不想使用TsmartBD中预设的CWE选项，而想要使用自己设计的检测配置。可以将-cwe一项的参数替换为-config。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts7">3.3 已抓取的复合项目的检测</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">本功能用于已经编译抓取完毕的C语言编写的复合项目的编译抓取。操作方法如下：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">1) 进入TsmartBD所在的路径下，打开终端；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">2) 在终端下执行命令：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">java &ndash;jar TsmartAnalyze.jar &ndash;captured=[CAPTURED_PATH] &ndash;cwe=[CWE_LIST] &ndash;task =[TASKS] (-output=[OUTPUT_PATH])</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">其中:</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第一项&ndash;captured=[CAPTURED_PATH]是必需参数，CAPTURED_PATH指定了编译抓取结果的路径，该路径一般是项目源代码所在路径下的.process_makefile文件夹；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第二项-cwe=[CWE_LIST]也是必需参数，CWE_LIST指定了需要用于检查的cwe缺陷的类型编号的列表；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第三项-task=[TASKS]是可选参数，TASKS指定了将要检查的task的序号。如果不指定该参数，那么将检查目录下所有的task；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第四项-output=[OUTPUT_PATH]是可选参数，OUTPUT_PATH指定了检测结果报告的输出目录。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">特别的，如果不想使用TsmartBD中预设的CWE选项，而想要使用自己设计的检测配置。可以将-cwe一项的参数替换为-config。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp; </span></p>
<p class="ps8"><span class="ts7">3.4 观察测试结果</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">本功能是对目标源代码文件（或者是目标项目）完成检测之后，将测试报告以网页的方法清晰的展示，以便于用户理解。其操作方法如下：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">1) 进入BugVisualizer的所在目录下，打开终端；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">2) 在终端下执行命令：</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">java &ndash;jar BugVisualizer.jar &ndash;report=[REPORT_PATH] &ndash;project=[PROJECT_PATH] &ndash;web=[WEB_PATH]</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">其中:</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第一项&ndash;report=[REPORT_PATH]是必需参数，REPORT_PATH指定了检测结果报告的存放目录，一般为输出目录output下的result.xml文件；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第二项-project=[PROJECT_PATH]是必需参数，PROJECT_PATH指定了被检测文件(或者被检测项目)所存放的文件夹的路径；</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">第三项-web=[WEB_PATH]是必需参数，WEB_PATH指定了用于展示检测结果的网页的模板的路径。BugVisualizer提供了一个自带的模板，其存放于BugVisualizer目录下的webInspector/template文件夹。</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps7"><a href="idh-topic10.htm" class="hs0">返回首页</a></p>
<p class="ps8"><span class="ts5">&nbsp;</span></p>
<p class="ps0"><br /></p>
<div>
  <div class="hline0"></div>
</div>
<p class="ps6"><span class="ts3">Created with an evaluation copy of HelpSmith.</span><br /><span class="ts3">To remove this notice, you should </span><a href="http://www.helpsmith.com/buynow.php" target="_blank" class="hs1">purchase the full version</a><span class="ts3">&nbsp;of the product.</span></p>
</body>
</html>